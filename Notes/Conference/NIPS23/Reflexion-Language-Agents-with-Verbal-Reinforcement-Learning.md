# Reflexion: Language Agents with Verbal Reinforcement Learning
2024-05-21
## Summary
Reflexion makes the agent reflect on their failures. It involves Actor, Evaluator and Self-reflection model. The failure feedback generated by reflection model is stored as long-term memory. The actor can generate text/action based on the short-term memory(trajectory history) and the long-term memory(experiences). This makes the model better perform on sequential decision-making, coding and reasoning.
## Motivation
Humans can reflect on their failures and perform better next time. This paper tries to make agents learn from prior mistakes to perform better.
## Method
- Actor: generate text and action
	- CoT, ReAct
	- memory component
- Evaluator model: score the outputs
	- exact match(EM) model
	- pre-defined heuristic function for specific evaluation
	- LLM evaluator
- Self-Reflection model: generate verbal reinforcement cues
	-  a sparses reward signal, current trajectory, persistent memory -> feedback -> store in memory
- Memory: 
	- short-term: trajectory history
	- long-term: outputs from the self-reflection model
- Process:
	- in a loop until the Evaluator deems τt to be correct

![image.png](https://s2.loli.net/2024/05/22/pDn3Sdk9zKtNfLC.png)
## Evaluation
- Sequential decision making
	- Actor: ReAct
	- Evaluator: hand-written heuristic
![image.png](https://s2.loli.net/2024/05/22/8oGh3Vb9uyUWOEm.png)
- Reasoning
	- Actor: Reflexion + CoT, Reflextion+ReAct
	- Evaluation: EM model to give a binary success signal
![image.png](https://s2.loli.net/2024/05/22/gp1KDat4o76zhfH.png)

- Coding
	- use CoT to produce test suites
	- self-reflecting code-generation agents are bound to their ability to write diverse, comprehensive tests
![image.png](https://s2.loli.net/2024/05/22/Ts2zMnAZGWbqhKJ.png)
## Strengths and Weaknesses
**Strengths**
- the idea of reflection
- long-term and short-term memory

**Weaknesses**
- if the reflection is wrong? such as the coding evaluation test
- long-term memory size and speed

## Nice Sentences
> This iterative process of trial, error, self-reflection, and persisting memory enables the agent to rapidly improve its decision-making ability in various environments by utilizing informative feedback signals.

> “We acknowledge that self-reflecting code-generation agents are bound to their ability to write diverse, comprehensive tests.” (Shinn 等, 2023, p. 8)

## Future Ideas
> In this study, we limit long-term memory to a sliding window with maximum capacity, but we encourage future work to extend the memory component of Reflexion with more advanced structures such as vector embedding databases or traditional SQL databases